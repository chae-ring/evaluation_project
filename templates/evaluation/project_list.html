{% extends "base.html" %}
{% load static %}

{% block title %}프로젝트 리스트{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/project_list.css' %}" />
{% endblock %}

{% block content %}
<h1 class="page-header">프로젝트 리스트</h1>

<div class="sort-filter">
  <a href="?sort=asc" class="sort-link {% if sort == 'asc' %}active{% endif %}">낮은 점수순</a> |
  <a href="?sort=desc" class="sort-link {% if sort == 'desc' %}active{% endif %}">높은 점수순</a>
</div>

<ul class="project-list">
  {% for project in projects %}
  <li class="project-card">
    <a href="{% url 'project_detail' project.id %}" class="project-title">{{ project.title }}</a>
    <div class="score-area">
      <div class="stars">
        {% for i in "12345" %}
          {% if forloop.counter <= project.avg_score_int %}
            <span class="star filled">★</span>
          {% else %}
            <span class="star">☆</span>
          {% endif %}
        {% endfor %}
      </div>
      <span class="score-number">{{ project.avg_score|floatformat:1 }}</span>
    </div>
  </li>
  {% empty %}
  <li>등록된 프로젝트가 없습니다.</li>
  {% endfor %}
</ul>
{% endblock %}
